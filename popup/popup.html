<!DOCTYPE html>
<html>
<head>
    <title>ChatGPT Conversation History</title>
    <link rel="stylesheet" type="text/css" href="popup.css">
</head>
<body>
    <div class="container">
        <h1>ChatGPT History Export</h1>
        <div class="input-group">
            <label for="tokenInput">Bearer Token:</label>
            <div class="token-input-container">
                <input type="password" id="tokenInput" placeholder="Paste your bearer token here, do not include Bearer">
                <button id="showTokenBtn" class="small-btn">Show</button>
            </div>
        </div>
        <div class="help-text">
            <p>To get your token:</p>
            <ol>
                <li>Open ChatGPT in your browser</li>
                <li>Press F12 to open DevTools</li>
                <li>Go to Network tab</li>
                <li>Find any request to 'conversations'</li>
                <li>Copy the Bearer token from Authorization header. Do not include 'Bearer'.</li>
            </ol>
        </div>
        <div id="dataControls">
            <div id="existingDataInfo" class="existing-data-info"></div>
            <div class="button-group">
                <button id="generateButton">Fetch Conversation History</button>
                <button id="clearDataButton" class="danger-btn">Clear Saved Data</button>
            </div>
        </div>

        <div id="status"></div>
        <div id="downloadButtons" class="download-buttons"></div>
    </div>
    <script src="../scripts/utils.js"></script>
    <script src="../scripts/dataFetcher.js"></script>
    <script src="../scripts/dataProcessor.js"></script>
    <script src="popup.js"></script>
</body>
</html>